<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Accueil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Cacher la scrollbar native des catégories */
    #categories::-webkit-scrollbar {
      display: none;
    }
    #categories {
      -ms-overflow-style: none;  /* IE et Edge */
      scrollbar-width: none;  /* Firefox */
    }
  </style>
</head>
<body class="bg-[#F8F9FF] font-serif">
  <div class="max-w-sm mx-auto min-h-screen px-2 py-6 relative flex flex-col h-screen">

    <!-- Conteneur fixe -->
    <div class="sticky top-0 bg-[#F8F9FF] z-10">

      <!-- Header -->
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-semibold">Bienvenu !</h1>
        <img src="images/logo.png" alt="Avatar" class="w-12 h-12 rounded-full">
      </div>

      <!-- Catégories avec flèches -->
      <div class="relative mb-6">

        <!-- Flèche gauche -->
        <button id="scrollLeft" aria-label="Scroll categories left"
                class="absolute left-0 top-1/2 -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 text-gray-700 rounded-full p-2 shadow-md z-30 hidden">
          &#10094;
        </button>

        <!-- Liste catégories scrollable -->
        <div id="categories" class="flex gap-4 overflow-x-auto scrollbar-hide ">
          <!-- Catégorie avec data-id -->
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="pizza">
            <img src="images/pizza.jpg" loading="lazy" alt="Catégorie 1" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Pizzas</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="assiettes">
            <img src="images/assiette.jpg" loading="lazy" alt="Catégorie 2" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Assiettes</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="tacos">
            <img src="images/tacos.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Tacos</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="sandwiches">
            <img src="images/sandwich.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Sandwiches</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="burgers">
            <img src="images/burger.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Burgers</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="makloub">
            <img src="images/makloub.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Makloub</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="texmex">
            <img src="images/texmex.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">Tex Mex</p>
          </div>
          <div class="flex flex-col items-center min-w-[80px] cursor-pointer category" data-id="cheeseNaan">
            <img src="images/cheesenaan.jpg" loading="lazy" alt="Catégorie 3" class="w-20 h-20 rounded-full object-cover" />
            <p class="mt-2 text-sm font-semibold">CheeseNaan</p>
          </div>
          

          <!-- Ajoute plus si besoin -->
        </div>

        <!-- Flèche droite -->
        <button id="scrollRight" aria-label="Scroll categories right"
                class="absolute right-0 top-1/2 -translate-y-1/2 bg-white bg-opacity-70 hover:bg-opacity-100 text-gray-700 rounded-full p-2 shadow-md z-30 hidden">
          &#10095;
        </button>
      </div>

      <!-- Barre de recherche -->
      <div class="flex items-center bg-white rounded-xl px-4 py-2 mb-6 shadow-sm">
        <!-- Icône de recherche -->
        <svg class="w-5 h-5 text-gray-400 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
          d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 104.5 4.5a7.5 7.5 0 0012.15 12.15z" />
        </svg>

        <input id="searchInput" type="text" placeholder="Rechercher"
           class="w-full outline-none text-gray-500 placeholder-gray-400 bg-transparent">
      </div>


    </div>

    <!-- Liste des plats scrollable -->
    <div id="productsList" class="overflow-y-auto flex-1 space-y-4">
      <!-- Produits générés dynamiquement -->
    </div>
  </div>

<script>
  const productsByCategory = {
    pizza: [
      { name: "SAVOYARDE", description: "Crème fraîche, mozzarella, pommes de terre, lardons, rebloches, oignons", price: "11,20€<br/>13,50€<br/>18,50€" },
      { name: "RACLETTE", description: "Crème fraîche, mozzarella, jambon, pommes de terre, raclette", price: "11,80€<br/>14,00€<br/> 19,00€" },
      { name: "CHÈVRE MIEL", description: "Crème fraîche, mozzarella, fromage de chèvre, nuel", price: "11,80€<br/>14,00€<br/>19,00€" },
      { name: "REINE", description: "Tomote, mozzarella, jambon, champignons", price: "10,50€<br/>12,20€<br/>17,20€" },
      { name: "LE 100'S KEBAB", description: "Tomote, mozzarella, kebab, oignons", price: "11,80€<br/>14,00€<br/>19,00€" },
      { name: "PÊCHEUR", description: "Tomote, mozzarella, then, oignons, olives", price: "10,90€<br/>13,20€<br/>18,20€" },
      { name: "VÉGÉTARIENNE", description: "Tomote, mozzarella, olives, tomates fraîches, poivrons, oignons", price: "10,50€<br/>12,20€<br/>17,20€" },
      { name: "4 FROMAGES", description: "Tomote, mozzarella, chèvre, bleu, terro", price: "12,00€<br/>14,00€<br/>19,00€" },
      { name: "FRUITS DE MER", description: "Tomote, fruits de mer", price: "11,80€<br/>14,00€<br/>19,00€" },
      { name: "CHAMPION", description: "Tomote, mozzarella, champignons, viande hachée", price: "10,50€<br/>12,20€<br/>17,20€" },
      { name: "CALZONE", description: "Tomote, mozzarella, jambon", price: "9,70€<br/>11,80€<br/>16,80€" },
      { name: "MEXICAINE", description: "Tomote, mozzarella, viande hachée, poivrons, olives", price: "11,80€<br/>14,00€<br/>19,00€" },
      
    ],
    assiettes: [
      { name: "POULET", price: "14,00€" },
      { name: "STEAK", price: "14,00€" },
      { name: "FALAFEL", price: "14,00€" },
      { name: "Kefta", price: "14,00€" },
      { name: "ROYAL", description: "1 Viande , Œuf , fromage", price: "14,50€" },
      { name: "MIXTE", description: "2 Viandes au choix", price: "15,50€" },
      { name: "MIXTE", description: "3 Viandes au choix", price: "16,50€" },
      { name: "MENU ASSIETTE", description: "1 Assiette + Crudités + 1 Portion de frites + 1 Boisson 33cl", price: `16,50€ <br/> <span class="text-xs text-gray-500"> (sans boisson 
        -1€)</span>` }
    ],
    tacos: [
      { name: "Kebab", price: "10,00€" },
      { name: "Poulet", price: "10,00€" },
      { name: "Kefta", price: "10,00€" },
      { name: "Steak", price: "10,00€" },
      { name: "Cordon bleu", price: "10,00€" },
      { name: "Nuggets", price: "10,00€" },
      { name: "Merguez", price: "10,00€" },
      { name: "Royal", price: "12,00€" },
      { name: "2 viandes mixte", price: "12,50€" },
      { name: "XL", description: "2 galettes + 2 viandes", price: "15,50€" }
    ],
    sandwiches: [
      { name: "Kebab", price: "9,00€" },
      { name: "Poulet", price: "9,50€" },
      { name: "Kefta", price: "9,50€" },
      { name: "Steak", price: "9,50€" },
      { name: "Falafel", price: "9,50€" },
      { name: "Nuggets", price: "9,50€" },
      { name: "Merguez", price: "11,00€" },
      { name: "Royal", description: "1 viande + œuf + Fromage", price: "11,00€" },
      { name: "2 viandes mixtes", price: "11,00€" },
      { name: "Masti", description: "Poulet, steak, jambon, œuf, fromage", price: "13,00€" },
      { name: "Suprême", description: "Poulet mariné curry, cordon bleu, Boursin, fromage", price: "12,50€" },
      { name: "Radical", description: "Steak haché, fromage, cordon bleu", price: "12,50€" },
      { name: "Merguez", description: "Merguez, fromage", price: "9,50€" }
    ],
    burgers: [
      { name: "Cheese", description: "1 steack 90gr + 1 Fromage", price: "8,00€" },
      { name: "Double cheese", description: "2 steacks 90gr + 2 Fromages", price: "9,50€" },
      { name: "Triple cheese", description: "3 steacks 90gr + 3 Fromages", price: "11,00€" },
      { name: "Royal cheese", description: "2 steacks 45gr + œuf + Fromage", price: "10,50€" },
      { name: "Rasty", description: "1 steack 90gr + GPDT + raclette", price: "12,50€" },
      { name: "Chicken", description: "1 chicken + 1 Fromage", price: "9,50€" },
      { name: "Royal Cheese", description: "2 steaks (45g), œuf, fromage", price: "10,50€" },
      { name: "Rusty", description: "1 steak (90g), galette de pommes de terre", price: "12,50€" },
      { name: "Chicken", description: "Poulet, fromage", price: "9,50€" }
    ],
    makloub: [
      { name: "Makloub", description: "Viande au choix: Kebab, poulet, merguez, kefta, cordon bleu, nuggets, steak", price: "11,00€" }
    ],
    cheeseNaan: [
      { name: "Cheese Naan", description: "Viande au choix: Kebab, poulet, merguez, kefta, cordon bleu, nuggets, steak", price: "11,00€" }
    ],
    texmex: [
      { name: "5 pièces", description: "chiken wings,nuggets,tenders,mozza sticks", price: `7,50€ <span class="text-xs text-gray-500">(+frites)</span><br/>8,50€ <span class="text-xs text-gray-500">(Menu)</span>` }
    ],
  };

  const categories = document.querySelectorAll('.category');
  const productsList = document.getElementById('productsList');
  const searchInput = document.getElementById('searchInput');
  const scrollContainer = document.getElementById('categories');
  const btnLeft = document.getElementById('scrollLeft');
  const btnRight = document.getElementById('scrollRight');

  let currentCategory = 'pizza';

  function displayProducts(categoryId, filter = "") {
    productsList.innerHTML = `<p class="text-center text-gray-400">Chargement...</p>`;

    setTimeout(() => {
      let products = productsByCategory[categoryId] || [];

      // Filtrer uniquement par nom et description (si elle existe)
      if (filter) {
        const f = filter.toLowerCase();
        products = products.filter(p =>
          p.name.toLowerCase().includes(f) ||
          (p.description && p.description.toLowerCase().includes(f))
        );
      }

      if (products.length === 0) {
        productsList.innerHTML = `<p class="text-center text-gray-500">Aucun produit trouvé.</p>`;
        return;
      }

      productsList.innerHTML = "";
      products.forEach(product => {
        const productDiv = document.createElement('div');
        productDiv.className = "bg-white rounded-xl shadow-md p-4 flex justify-between items-start";

        productDiv.innerHTML = `
          <div>
            <p class="text-lg font-bold">${product.name}</p>
            <p class="text-sm text-gray-500">${product.description || ""}</p>
          </div>
          <p class="text-lg font-bold text-[#F87B1B]">${product.price}</p>
        `;

        productsList.appendChild(productDiv);
      });
    }, 100); // Petit délai pour afficher le texte de chargement
  }

  // Clic sur catégories
  categories.forEach(cat => {
    cat.addEventListener('click', () => {
      currentCategory = cat.getAttribute('data-id');

      // Gestion style actif
      categories.forEach(c => c.classList.remove('border-b-4', 'border-[#F87B1B]'));
      cat.classList.add('border-b-4', 'border-[#F87B1B]');

      searchInput.value = "";
      displayProducts(currentCategory);
    });
  });

  // Recherche instantanée
  searchInput.addEventListener('input', () => {
    displayProducts(currentCategory, searchInput.value);
  });

  // Scroll flèches
  function toggleButtons() {
    btnLeft.style.display = scrollContainer.scrollLeft > 0 ? 'block' : 'none';
    btnRight.style.display = scrollContainer.scrollLeft + scrollContainer.clientWidth < scrollContainer.scrollWidth ? 'block' : 'none';
  }

  btnLeft.addEventListener('click', () => {
    scrollContainer.scrollBy({ left: -150, behavior: 'smooth' });
  });

  btnRight.addEventListener('click', () => {
    scrollContainer.scrollBy({ left: 150, behavior: 'smooth' });
  });

  scrollContainer.addEventListener('scroll', toggleButtons);

  // Chargement initial
  document.addEventListener('DOMContentLoaded', () => {
    toggleButtons();
    displayProducts(currentCategory);
    categories.forEach(c => c.classList.remove('border-b-4', 'border-[#F87B1B]'));
    categories[0]?.classList.add('border-b-4', 'border-[#F87B1B]');
  });

  window.addEventListener('resize', toggleButtons);
</script>



</body>
</html>
